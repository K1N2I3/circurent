# æ•°æ®åº“è¿ç§»ï¼šä½ç½®æ”¹ä¸ºå‡ºç§Ÿè€…åç§°

## ğŸ“‹ æ›´æ”¹å†…å®¹

å°†å•†å“æ•°æ®ä¸­çš„ `location`ï¼ˆä½ç½®ï¼‰å­—æ®µæ”¹ä¸º `owner_name`ï¼ˆå‡ºç§Ÿè€…åç§°ï¼‰ã€‚

- **æ—§å­—æ®µ**: `location` (text)
- **æ–°å­—æ®µ**: `owner_name` (text)
- **é»˜è®¤å€¼**: æ‰€æœ‰ç°æœ‰å•†å“è®¾ç½®ä¸º `CircuRent`

## ğŸ”§ Supabase æ•°æ®åº“è¿ç§»æ­¥éª¤

### æ–¹æ³• 1: ä½¿ç”¨ Supabase Dashboardï¼ˆæ¨èï¼‰

1. **ç™»å½• Supabase Dashboard**
   - è®¿é—® https://supabase.com/dashboard
   - é€‰æ‹©ä½ çš„é¡¹ç›®

2. **æ‰“å¼€ SQL Editor**
   - ç‚¹å‡»å·¦ä¾§èœå•çš„ "SQL Editor"
   - ç‚¹å‡» "New query"

3. **æ‰§è¡Œè¿ç§» SQL**
   ```sql
   -- æ·»åŠ æ–°åˆ— owner_name
   ALTER TABLE items ADD COLUMN IF NOT EXISTS owner_name TEXT;

   -- å°†ç°æœ‰ location æ•°æ®è¿ç§»åˆ° owner_nameï¼ˆå¦‚æœ location å­˜åœ¨ï¼‰
   UPDATE items SET owner_name = 'CircuRent' WHERE owner_name IS NULL;

   -- å¯é€‰ï¼šåˆ é™¤æ—§åˆ— locationï¼ˆå¦‚æœç¡®å®šä¸å†éœ€è¦ï¼‰
   -- ALTER TABLE items DROP COLUMN location;
   ```

4. **éªŒè¯æ•°æ®**
   - åœ¨ Table Editor ä¸­æ‰“å¼€ `items` è¡¨
   - ç¡®è®¤ `owner_name` åˆ—å·²åˆ›å»º
   - ç¡®è®¤æ‰€æœ‰è®°å½•çš„ `owner_name` éƒ½æ˜¯ `CircuRent`

### æ–¹æ³• 2: ä½¿ç”¨ Supabase CLI

```bash
# è¿æ¥åˆ° Supabase
supabase db push

# æˆ–è€…ç›´æ¥æ‰§è¡Œ SQL
supabase db execute "
  ALTER TABLE items ADD COLUMN IF NOT EXISTS owner_name TEXT;
  UPDATE items SET owner_name = 'CircuRent' WHERE owner_name IS NULL;
"
```

## ğŸ“ ä»£ç æ›´æ”¹è¯´æ˜

### å·²æ›´æ–°çš„æ–‡ä»¶ï¼š

1. **`lib/db.ts`**
   - `Item` æ¥å£ï¼š`location: string` â†’ `ownerName: string`

2. **`lib/initItems.ts`**
   - æ‰€æœ‰å•†å“çš„ `location` â†’ `ownerName: 'CircuRent'`

3. **`lib/db-supabase.ts`**
   - `convertItemFromDb`: æ”¯æŒè¯»å– `owner_name` æˆ– `location`ï¼ˆå‘åå…¼å®¹ï¼‰
   - `convertItemToDb`: å†™å…¥ `owner_name`
   - `itemsDbSupabase.update`: æ›´æ–° `owner_name`

4. **`app/page.tsx`**
   - å•†å“å¡ç‰‡ï¼šæ˜¾ç¤º `ownerName` è€Œä¸æ˜¯ `location`
   - å›¾æ ‡ï¼šğŸ“ â†’ ğŸ‘¤

5. **`app/items/[id]/page.tsx`**
   - å•†å“è¯¦æƒ…é¡µï¼šæ˜¾ç¤º `ownerName` è€Œä¸æ˜¯ `location`
   - æ ‡ç­¾ï¼š`Location` â†’ `Owner` / `Proprietario`

6. **`lib/i18n.ts`**
   - ç¿»è¯‘ï¼š`location` â†’ `owner` / `Proprietario`

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å‘åå…¼å®¹æ€§**
   - ä»£ç æ”¯æŒåŒæ—¶è¯»å– `owner_name` å’Œ `location` å­—æ®µ
   - å¦‚æœ `owner_name` ä¸å­˜åœ¨ï¼Œä¼šå°è¯•è¯»å– `location`ï¼Œå¦‚æœéƒ½æ²¡æœ‰åˆ™ä½¿ç”¨é»˜è®¤å€¼ `CircuRent`

2. **æ•°æ®è¿ç§»**
   - å¦‚æœæ•°æ®åº“ä¸­å·²æœ‰å•†å“æ•°æ®ï¼Œéœ€è¦æ‰§è¡Œ SQL è¿ç§»
   - æ–°åˆ›å»ºçš„å•†å“ä¼šè‡ªåŠ¨ä½¿ç”¨ `ownerName: 'CircuRent'`

3. **åˆ é™¤æ—§åˆ—ï¼ˆå¯é€‰ï¼‰**
   - å¦‚æœç¡®å®šä¸å†éœ€è¦ `location` åˆ—ï¼Œå¯ä»¥åœ¨è¿ç§»å®Œæˆååˆ é™¤ï¼š
   ```sql
   ALTER TABLE items DROP COLUMN location;
   ```

## âœ… éªŒè¯æ­¥éª¤

1. **æ£€æŸ¥æ•°æ®åº“**
   - ç¡®è®¤ `items` è¡¨æœ‰ `owner_name` åˆ—
   - ç¡®è®¤æ‰€æœ‰è®°å½•çš„ `owner_name` éƒ½æ˜¯ `CircuRent`

2. **æ£€æŸ¥å‰ç«¯æ˜¾ç¤º**
   - å•†å“åˆ—è¡¨é¡µæ˜¾ç¤º "ğŸ‘¤ CircuRent" è€Œä¸æ˜¯ä½ç½®
   - å•†å“è¯¦æƒ…é¡µæ˜¾ç¤º "Owner: CircuRent" è€Œä¸æ˜¯ä½ç½®

3. **æµ‹è¯•æ–°å•†å“**
   - åˆ›å»ºæ–°å•†å“æ—¶ï¼Œç¡®è®¤ `ownerName` å­—æ®µæ­£ç¡®ä¿å­˜

## ğŸš€ éƒ¨ç½²å

éƒ¨ç½²åˆ° Vercel åï¼Œç¡®ä¿ï¼š
1. æ•°æ®åº“è¿ç§»å·²å®Œæˆ
2. æ‰€æœ‰å•†å“éƒ½æœ‰ `owner_name` å­—æ®µ
3. å‰ç«¯æ­£ç¡®æ˜¾ç¤ºå‡ºç§Ÿè€…åç§°

